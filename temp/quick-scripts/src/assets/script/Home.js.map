{"version":3,"sources":["assets\\script\\Home.js"],"names":["cc","Class","Component","properties","progressBar","loadingLabel","Label","startButton","Button","onLoad","director","preloadScene","onProgress","bind","onLoaded","start","node","getChildByName","getComponent","ProgressBar","active","completedCount","totalCount","item","completedRate","progress","string","parseInt","toString"],"mappings":";;;;;;AAAA;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAELC,EAAAA,UAAU,EAAE;AACRC,IAAAA,WAAW,EAAE,IADL;AAERC,IAAAA,YAAY,EAAEL,EAAE,CAACM,KAFT;AAGRC,IAAAA,WAAW,EAAEP,EAAE,CAACQ;AAHR,GAFP;AAOL;AACAC,EAAAA,MARK,oBAQI;AACLT,IAAAA,EAAE,CAACU,QAAH,CAAYC,YAAZ,CAAyB,MAAzB,EAAiC,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAjC,EAA6D,KAAKC,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAA7D;AACH,GAVI;AAWL;AACAE,EAAAA,KAZK,mBAYG;AACJ,SAAKX,WAAL,GAAmB,KAAKY,IAAL,CAAUC,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqDlB,EAAE,CAACmB,WAAxD,CAAnB;AACA,SAAKZ,WAAL,CAAiBS,IAAjB,CAAsBI,MAAtB,GAA+B,KAA/B;AACH,GAfI;AAgBL;AACAR,EAAAA,UAAU,EAAE,oBAAUS,cAAV,EAA0BC,UAA1B,EAAsCC,IAAtC,EAA4C;AACpD,QAAIC,aAAa,GAAGH,cAAc,GAAGC,UAArC;AACA,SAAKlB,WAAL,CAAiBqB,QAAjB,GAA4BD,aAA5B;AACA,SAAKnB,YAAL,CAAkBqB,MAAlB,GAA2B,YAAYC,QAAQ,CAACH,aAAa,GAAG,GAAjB,CAAR,CAA8BI,QAA9B,EAAZ,GAAuD,GAAlF;AACH,GArBI;AAsBL;AACAd,EAAAA,QAAQ,EAAE,oBAAY;AAClB,SAAKT,YAAL,CAAkBqB,MAAlB,GAA2B,YAA3B;AACA,SAAKnB,WAAL,CAAiBS,IAAjB,CAAsBI,MAAtB,GAA+B,IAA/B;AACH;AA1BI,CAAT","sourceRoot":"/","sourcesContent":["//home主界面\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        progressBar: null,\r\n        loadingLabel: cc.Label,\r\n        startButton: cc.Button\r\n    },\r\n    //加载完成\r\n    onLoad() {\r\n        cc.director.preloadScene(\"game\", this.onProgress.bind(this), this.onLoaded.bind(this));\r\n    },\r\n    //start\r\n    start() {\r\n        this.progressBar = this.node.getChildByName(\"progressBar\").getComponent(cc.ProgressBar);\r\n        this.startButton.node.active = false;\r\n    },\r\n    //预加载进度\r\n    onProgress: function (completedCount, totalCount, item) {\r\n        let completedRate = completedCount / totalCount;\r\n        this.progressBar.progress = completedRate;\r\n        this.loadingLabel.string = \"加载中...（\" + parseInt(completedRate * 100).toString() + \"）\";\r\n    },\r\n    //预加载完成\r\n    onLoaded: function () {\r\n        this.loadingLabel.string = \"加载完成（100%）\";\r\n        this.startButton.node.active = true;\r\n    }\r\n});\r\n"]}