{"version":3,"sources":["assets\\script\\ball.js"],"names":["Config","require","Ball","cc","Class","Component","properties","rigidBody","type","RigidBody","isTouchedGround","onLoad","getComponent","collider","Collider","update","dt","active","linearVelocity","Vec2","ZERO","pathPos","push","node","position","v2","runAction","sequence","cardinalSplineTo","callFunc","group","groupBallInRecycle","main","recycleBall","bind","onBeginContact","contact","selfCollider","otherCollider","name","module","exports"],"mappings":";;;;;;AAAA;AACA,IAAIA,MAAM,GAAGC,OAAO,CAAC,UAAD,CAApB;;AACA,IAAIC,IAAI,GAAGC,EAAE,CAACC,KAAH,CAAS;AAChB,aAASD,EAAE,CAACE,SADI;AAEhBC,EAAAA,UAAU,EAAE;AAAA,WAAO;AACfC,MAAAA,SAAS,EAAE;AACPC,QAAAA,IAAI,EAAEL,EAAE,CAACM,SADF;AAEP,mBAAS;AAFF,OADI;AAKfC,MAAAA,eAAe,EAAE;AALF,KAAP;AAAA,GAFI;AAShB;AACAC,EAAAA,MAVgB,oBAUP;AACL,SAAKJ,SAAL,GAAiB,KAAKK,YAAL,CAAkBT,EAAE,CAACM,SAArB,CAAjB;AACA,SAAKI,QAAL,GAAgB,KAAKD,YAAL,CAAkBT,EAAE,CAACW,QAArB,CAAhB;AACH,GAbe;AAchB;AACAC,EAAAA,MAfgB,kBAeTC,EAfS,EAeL;AACP,QAAI,KAAKN,eAAT,EAA0B;AACtB,WAAKH,SAAL,CAAeU,MAAf,GAAwB,KAAxB;AACA,WAAKV,SAAL,CAAeW,cAAf,GAAgCf,EAAE,CAACgB,IAAH,CAAQC,IAAxC,CAFsB,CAGtB;;AACA,UAAIC,OAAO,GAAG,EAAd;AACAA,MAAAA,OAAO,CAACC,IAAR,CAAa,KAAKC,IAAL,CAAUC,QAAvB;AACAH,MAAAA,OAAO,CAACC,IAAR,CAAanB,EAAE,CAACsB,EAAH,CAAM,GAAN,EAAW,CAAC,GAAZ,CAAb;AACAJ,MAAAA,OAAO,CAACC,IAAR,CAAanB,EAAE,CAACsB,EAAH,CAAM,GAAN,EAAW,GAAX,CAAb;AACAJ,MAAAA,OAAO,CAACC,IAAR,CAAanB,EAAE,CAACsB,EAAH,CAAM,GAAN,EAAW,GAAX,CAAb;AAEA,WAAKF,IAAL,CAAUG,SAAV,CAAoBvB,EAAE,CAACwB,QAAH,CAChBxB,EAAE,CAACyB,gBAAH,CAAoB,CAApB,EAAuBP,OAAvB,EAAgC,GAAhC,CADgB,EAEhBlB,EAAE,CAAC0B,QAAH,CAAY,YAAY;AACpB,aAAKtB,SAAL,CAAeU,MAAf,GAAwB,IAAxB;AACA,aAAKM,IAAL,CAAUO,KAAV,GAAkB9B,MAAM,CAAC+B,kBAAzB;AACA,aAAKC,IAAL,CAAUC,WAAV;AACH,OAJW,CAIVC,IAJU,CAIL,IAJK,CAAZ,CAFgB,CAApB;AAQA,WAAKxB,eAAL,GAAuB,KAAvB;AACH;AAEJ,GArCe;AAsChB;AACAyB,EAAAA,cAvCgB,0BAuCDC,OAvCC,EAuCQC,YAvCR,EAuCsBC,aAvCtB,EAuCqC;AACjD,QAAIA,aAAa,CAACf,IAAd,CAAmBgB,IAAnB,IAA2B,QAA/B,EAAyC;AACrC,WAAK7B,eAAL,GAAuB,IAAvB;AACH;AACJ;AA3Ce,CAAT,CAAX;AA8CA8B,MAAM,CAACC,OAAP,GAAiBvC,IAAjB","sourceRoot":"/","sourcesContent":["//小球类\nvar Config = require(\"./Config\");\nvar Ball = cc.Class({\n    extends: cc.Component,\n    properties: () => ({\n        rigidBody: {\n            type: cc.RigidBody,\n            default: null\n        },\n        isTouchedGround: false\n    }),\n    //加载完成\n    onLoad() {\n        this.rigidBody = this.getComponent(cc.RigidBody);\n        this.collider = this.getComponent(cc.Collider);\n    },\n    //更新\n    update(dt) {\n        if (this.isTouchedGround) {\n            this.rigidBody.active = false\n            this.rigidBody.linearVelocity = cc.Vec2.ZERO;\n            //记录路径点\n            let pathPos = [];\n            pathPos.push(this.node.position);\n            pathPos.push(cc.v2(349, -498))\n            pathPos.push(cc.v2(338, 608))\n            pathPos.push(cc.v2(162, 557))\n\n            this.node.runAction(cc.sequence(\n                cc.cardinalSplineTo(1, pathPos, 0.9),\n                cc.callFunc(function () {\n                    this.rigidBody.active = true;\n                    this.node.group = Config.groupBallInRecycle;\n                    this.main.recycleBall();\n                }.bind(this))\n            ))\n            this.isTouchedGround = false;\n        }\n\n    },\n    //小球发生碰撞时\n    onBeginContact(contact, selfCollider, otherCollider) {\n        if (otherCollider.node.name == 'ground') {\n            this.isTouchedGround = true;\n        }\n    }\n});\n\nmodule.exports = Ball;\n"]}