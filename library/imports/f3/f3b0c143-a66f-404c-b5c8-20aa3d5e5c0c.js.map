{"version":3,"sources":["assets\\script\\Shake.js"],"names":["cc","Shake","ActionInterval","extend","_initial_x","_initial_y","_strength_x","_strength_y","ctor","duration","strength_x","strength_y","initWithDuration","prototype","call","rangeRand","min","max","rnd","Math","random","update","randx","randy","getTarget","setPosition","startWithTarget","target","x","y","stop","Vec2","shake"],"mappings":";;;;;;AAAA;AACAA,EAAE,CAACC,KAAH,GAAWD,EAAE,CAACE,cAAH,CAAkBC,MAAlB,CAAyB;AAChCC,EAAAA,UAAU,EAAE,CADoB;AAEhCC,EAAAA,UAAU,EAAE,CAFoB;AAGhCC,EAAAA,WAAW,EAAE,CAHmB;AAIhCC,EAAAA,WAAW,EAAE,CAJmB;;AAKhC;;;;;;AAMAC,EAAAA,IAAI,EAAE,cAAUC,QAAV,EAAoBC,UAApB,EAAgCC,UAAhC,EAA4C;AAC9C;AACA,SAAKC,gBAAL,CAAsBH,QAAtB,EAAgCC,UAAhC,EAA4CC,UAA5C;AACH,GAd+B;AAehCC,EAAAA,gBAfgC,4BAefH,QAfe,EAeLC,UAfK,EAeOC,UAfP,EAemB;AAC/CX,IAAAA,EAAE,CAACE,cAAH,CAAkBW,SAAlB,CAA4BD,gBAA5B,CAA6CE,IAA7C,CAAkD,IAAlD,EAAwDL,QAAxD;AACA,SAAKH,WAAL,GAAmBI,UAAnB;AACA,SAAKH,WAAL,GAAmBI,UAAnB;AACA,WAAO,IAAP;AACH,GApB+B;AAqBhCI,EAAAA,SArBgC,qBAqBtBC,GArBsB,EAqBjBC,GArBiB,EAqBZ;AAChB,QAAIC,GAAG,GAAGC,IAAI,CAACC,MAAL,EAAV;AACA,WAAOF,GAAG,IAAID,GAAG,GAAGD,GAAV,CAAH,GAAoBA,GAA3B;AACH,GAxB+B;AAyBhCK,EAAAA,MAzBgC,oBAyBvB;AACL,QAAIC,KAAK,GAAG,KAAKP,SAAL,CAAe,CAAC,KAAKT,WAArB,EAAkC,KAAKA,WAAvC,CAAZ;AACA,QAAIiB,KAAK,GAAG,KAAKR,SAAL,CAAe,CAAC,KAAKR,WAArB,EAAkC,KAAKA,WAAvC,CAAZ;AACA,SAAKiB,SAAL,GAAiBC,WAAjB,CAA6BH,KAAK,GAAG,KAAKlB,UAA1C,EAAsDmB,KAAK,GAAG,KAAKlB,UAAnE;AACH,GA7B+B;AA8BhCqB,EAAAA,eA9BgC,2BA8BhBC,MA9BgB,EA8BR;AACpB3B,IAAAA,EAAE,CAACE,cAAH,CAAkBW,SAAlB,CAA4Ba,eAA5B,CAA4CZ,IAA5C,CAAiD,IAAjD,EAAuDa,MAAvD;AACA,SAAKvB,UAAL,GAAkBuB,MAAM,CAACC,CAAzB;AACA,SAAKvB,UAAL,GAAkBsB,MAAM,CAACE,CAAzB;AACH,GAlC+B;AAmChCC,EAAAA,IAnCgC,kBAmCzB;AACH,SAAKN,SAAL,GAAiBC,WAAjB,CAA6B,IAAIzB,EAAE,CAAC+B,IAAP,CAAY,KAAK3B,UAAjB,EAA6B,KAAKC,UAAlC,CAA7B;AACAL,IAAAA,EAAE,CAACE,cAAH,CAAkBW,SAAlB,CAA4BiB,IAA5B,CAAiChB,IAAjC,CAAsC,IAAtC;AACH;AAtC+B,CAAzB,CAAX;;AAwCAd,EAAE,CAACgC,KAAH,GAAW,UAAUvB,QAAV,EAAoBC,UAApB,EAAgCC,UAAhC,EAA4C;AACnD,SAAO,IAAIX,EAAE,CAACC,KAAP,CAAaQ,QAAb,EAAuBC,UAAvB,EAAmCC,UAAnC,CAAP;AACH,CAFD","sourceRoot":"/","sourcesContent":["// 抖动动画\ncc.Shake = cc.ActionInterval.extend({\n    _initial_x: 0,\n    _initial_y: 0,\n    _strength_x: 0,\n    _strength_y: 0,\n    /*\n     * 创建抖动动画\n     * @param {number} duration     动画持续时长\n     * @param {number} strength_x   抖动幅度： x方向\n     * @param {number} strength_y   抖动幅度： y方向\n     */\n    ctor: function (duration, strength_x, strength_y) {\n        //cc.ActionInterval.prototype.ctor.call(this);\n        this.initWithDuration(duration, strength_x, strength_y);\n    },\n    initWithDuration(duration, strength_x, strength_y) {\n        cc.ActionInterval.prototype.initWithDuration.call(this, duration)\n        this._strength_x = strength_x;\n        this._strength_y = strength_y;\n        return true;\n    },\n    rangeRand(min, max) {\n        let rnd = Math.random();\n        return rnd * (max - min) + min;\n    },\n    update() {\n        let randx = this.rangeRand(-this._strength_x, this._strength_x);\n        let randy = this.rangeRand(-this._strength_y, this._strength_y);\n        this.getTarget().setPosition(randx + this._initial_x, randy + this._initial_y);\n    },\n    startWithTarget(target) {\n        cc.ActionInterval.prototype.startWithTarget.call(this, target);\n        this._initial_x = target.x;\n        this._initial_y = target.y;\n    },\n    stop() {\n        this.getTarget().setPosition(new cc.Vec2(this._initial_x, this._initial_y));\n        cc.ActionInterval.prototype.stop.call(this);\n    },\n});\ncc.shake = function (duration, strength_x, strength_y) {\n    return new cc.Shake(duration, strength_x, strength_y);\n};"]}